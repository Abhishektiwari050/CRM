class Analytics{static detectPatterns(e){const t={},a=[];return e.forEach(e=>{const r=e.tasks?.toLowerCase()||"";Object.keys(t).forEach(e=>{const a=this.similarity(r,e);a>.8&&t[e].count++}),t[r]?t[r].count++:t[r]={count:1,employee:e.employee_name,date:e.date}}),Object.entries(t).forEach(([e,t])=>{t.count>=3&&a.push({type:"repetitive",employee:t.employee,pattern:e.substring(0,50),count:t.count,severity:"medium"})}),a}static similarity(e,t){let a=0,r=0;const n=Math.max(e.length,t.length);for(let n=0;n<Math.min(e.length,t.length);n++)e[n]===t[n]&&a++;return r=a/n,r}static calculateMetrics(e,t){const a=e.length,r=t.filter(e=>e.overdue_clients>0).length,n=t.reduce((e,t)=>e+t.activities_this_week,0),s=t.reduce((e,t)=>e+t.assigned_clients,0),i=t.reduce((e,t)=>e+t.overdue_clients,0);return{totalReports:a,employeesWithOverdue:r,totalActivities:n,avgActivitiesPerEmployee:Math.round(n/t.length)||0,totalAssigned:s,totalOverdue:i,efficiency:Math.round((s-i)/s*100)||0}}static roundRobin(e,t){const a=[];let r=0;for(let n=0;n<e;n++)a.push(t[r%t.length]),r++;return a}}window.Analytics=Analytics;
